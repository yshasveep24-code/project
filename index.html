<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automata Visualizer - Regex to DFA Converter</title>
    <meta name="description"
        content="Convert regular expressions to DFA through ε-NFA and NFA with beautiful visualizations">
    <!-- Distinctive Fonts: Azeret Mono, Syne, Share Tech Mono -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Azeret+Mono:wght@400;600;700;900&family=Syne:wght@400;600;700;800&family=Share+Tech+Mono&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            emailjs.init("fPlUb0_mM0qigyjsl"); // Your Public Key
        })();
    </script>
    <script>
        window.onerror = function (message, source, lineno, colno, error) {
            console.error(`Global Error: ${message}\nSource: ${source}:${lineno}:${colno}`, error);
        };
        window.addEventListener('unhandledrejection', function (event) {
            console.warn(`Unhandled Rejection: ${event.reason}`);
        });
    </script>
</head>

<body>
    <div id="app">
        <header>
            <div class="header-left">
                <button id="help-btn" class="icon-btn" title="Help & Syntax" aria-label="Help">
                    <span class="icon-inner">?</span>
                </button>
                <button id="examples-btn" class="icon-btn" title="Example Patterns" aria-label="Examples">
                    <span class="icon-inner">Ex</span>
                </button>
                <button id="how-it-works-btn" class="icon-btn" title="How It Works" aria-label="How It Works">
                    <span class="icon-inner">⚙</span>
                </button>
            </div>
            <div class="header-content">
                <div class="logo-mark">◉━━◉</div>
                <h1>AUTOMATA VISUALIZER</h1>
                <p class="subtitle">REGEX → ε-NFA → NFA → DFA</p>
            </div>
            <div class="header-right">
                <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-icon sun-icon">☀</span>
                    <span class="theme-icon moon-icon">☾</span>
                    <span class="theme-text">DARK</span>
                </button>
            </div>
        </header>

        <main>
            <!-- Main Content Grid -->
            <div class="content-grid">
                <!-- Info Panel (left side) -->
                <aside class="info-panel">
                    <!-- Controls -->
                    <div class="info-section">
                        <div class="section-title-bar">
                            <span class="section-marker">▸</span>
                            <span>REGEX INPUT</span>
                        </div>
                        <div class="left-controls">
                            <!-- Regex Section -->
                            <div class="control-group regex-group">
                                <label for="regex-input">
                                    EXPRESSION
                                    <button class="help-icon"
                                        data-tooltip="Use operators: | (or), * (star), + (plus), ? (optional), () (grouping)"
                                        aria-label="Regex help">
                                        <span>i</span>
                                    </button>
                                </label>
                                <div class="input-wrapper">
                                    <input type="text" id="regex-input" placeholder="(a|b)*abb"
                                        aria-describedby="regex-help" autocomplete="off">
                                    <button id="clear-regex-btn" class="clear-btn" title="Clear"
                                        aria-label="Clear regex">
                                        <span>×</span>
                                    </button>
                                </div>
                                <button id="visualize-btn" class="btn-primary" style="width:100%;">
                                    <span class="btn-marker">▶</span> VISUALIZE
                                </button>
                                <div style="margin-top: 10px;">
                                    <button id="toggle-nfa-btn" class="btn-secondary"
                                        style="width:100%; justify-content: space-between;" title="Show/Hide NFA Step"
                                        aria-label="Toggle NFA">
                                        <span>SHOW NFA (ε-REMOVAL)</span>
                                        <span class="btn-marker check-mark" style="opacity: 0;">✓</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Test String Section -->
                    <div class="info-section">
                        <div class="section-title-bar">
                            <span class="section-marker">▸</span>
                            <span>TEST STRING</span>
                        </div>
                        <div class="left-controls">
                            <div class="control-group test-group">
                                <label for="test-string-input">
                                    INPUT STRING
                                    <button class="help-icon" data-tooltip="Test if string is accepted by the automaton"
                                        aria-label="Test help">
                                        <span>i</span>
                                    </button>
                                </label>
                                <div class="input-wrapper">
                                    <input type="text" id="test-string-input" placeholder="aabb" autocomplete="off">
                                    <button id="clear-test-btn" class="clear-btn" title="Clear"
                                        aria-label="Clear test string">
                                        <span>×</span>
                                    </button>
                                </div>
                                <button id="test-string-btn" class="btn-test" style="width:100%;">
                                    <span class="btn-marker">✓</span> RUN TEST
                                </button>
                                <!-- Test Result Display -->
                                <div id="test-result" class="test-result-banner" role="status" aria-live="polite"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Export Section -->
                    <div class="info-section">
                        <div class="section-title-bar">
                            <span class="section-marker">▸</span>
                            <span>EXPORT</span>
                        </div>
                        <div class="left-controls">
                            <div class="control-group export-group">
                                <div class="button-group" style="display:flex; gap:0.5rem;">
                                    <button id="export-svg-btn" class="btn-secondary" title="Export as SVG"
                                        style="flex:1;">
                                        SVG
                                    </button>
                                    <button id="export-png-btn" class="btn-secondary" title="Export as PNG"
                                        style="flex:1;">
                                        PNG
                                    </button>
                                    <button id="export-json-btn" class="btn-secondary" title="Export as JSON"
                                        style="flex:1;">
                                        JSON
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Info Panel Buttons (open popups) -->
                    <div class="info-buttons">
                        <button id="open-transition-popup" class="info-popup-btn">
                            <span class="btn-bracket">[</span>
                            <span>TRANSITION TABLE</span>
                            <span class="btn-bracket">]</span>
                        </button>
                        <button id="open-states-popup" class="info-popup-btn">
                            <span class="btn-bracket">[</span>
                            <span>STATE INFO</span>
                            <span class="btn-bracket">]</span>
                        </button>
                        <button id="open-log-popup" class="info-popup-btn">
                            <span class="btn-bracket">[</span>
                            <span>CONVERSION LOG</span>
                            <span class="btn-bracket">]</span>
                        </button>
                    </div>

                    <!-- Quick Statistics (stays inline) -->
                    <div class="info-section stats-section">
                        <div class="section-title-bar">
                            <span class="section-marker">▸</span>
                            <span>STATISTICS</span>
                        </div>
                        <div id="statistics-container" class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-label">STATES</span>
                                <span class="stat-value" id="stat-states">—</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">TRANS</span>
                                <span class="stat-value" id="stat-transitions">—</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">ALPHA</span>
                                <span class="stat-value" id="stat-alphabet">—</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">FINAL</span>
                                <span class="stat-value" id="stat-final">—</span>
                            </div>
                        </div>
                    </div>
                </aside>

                <!-- Visualization Area (right side) -->
                <section id="visualization-section" class="visualization-panel">
                    <div class="panel-header">
                        <h2 id="stage-title">
                            <span class="title-bracket">┌──</span>
                            AUTOMATON VISUALIZATION
                            <span class="title-bracket">──┐</span>
                        </h2>
                        <div class="view-controls">
                            <button id="zoom-in-btn" class="icon-btn" title="Zoom In" aria-label="Zoom in">
                                <span class="icon-inner">+</span>
                            </button>
                            <button id="zoom-out-btn" class="icon-btn" title="Zoom Out" aria-label="Zoom out">
                                <span class="icon-inner">−</span>
                            </button>
                            <button id="reset-view-btn" class="icon-btn" title="Reset View" aria-label="Reset view">
                                <span class="icon-inner">⟲</span>
                            </button>
                            <button id="fullscreen-btn" class="icon-btn" title="Fullscreen"
                                aria-label="Toggle fullscreen">
                                <span class="icon-inner">⛶</span>
                            </button>
                        </div>
                    </div>
                    <div id="graph-container" role="img" aria-label="Automaton graph visualization">
                        <div class="placeholder-message">
                            <div class="placeholder-icon">
                                <div class="scope-circle"></div>
                                <div class="scope-line scope-line-h"></div>
                                <div class="scope-line scope-line-v"></div>
                            </div>
                            <p class="placeholder-text">ENTER REGULAR EXPRESSION</p>
                            <p class="placeholder-hint">PRESS <button id="quick-example-btn"
                                    class="link-btn">EXAMPLES</button> FOR PATTERNS</p>
                        </div>
                    </div>
                    <div class="graph-footer">
                        <div id="graph-stats" class="graph-stats"></div>
                    </div>
                </section>
            </div>

            <!-- Transition Table Popup -->
            <div id="transition-popup" class="info-popup-overlay" style="display:none;">
                <div class="info-popup">
                    <div class="info-popup-header">
                        <h2>
                            <span class="popup-marker">◆</span>
                            TRANSITION TABLE
                        </h2>
                        <button class="info-popup-close" data-close="transition-popup">
                            <span>×</span>
                        </button>
                    </div>
                    <div class="info-popup-body" id="transition-table-container">
                        <div class="empty-state">
                            <div class="empty-icon">∅</div>
                            <p>NO AUTOMATON DATA</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- State Information Popup -->
            <div id="states-popup" class="info-popup-overlay" style="display:none;">
                <div class="info-popup">
                    <div class="info-popup-header">
                        <h2>
                            <span class="popup-marker">◆</span>
                            STATE INFORMATION
                        </h2>
                        <button class="info-popup-close" data-close="states-popup">
                            <span>×</span>
                        </button>
                    </div>
                    <div class="info-popup-body" id="state-info-container">
                        <div class="empty-state">
                            <div class="empty-icon">∅</div>
                            <p>NO STATE DATA</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Conversion Log Popup -->
            <div id="log-popup" class="info-popup-overlay" style="display:none;">
                <div class="info-popup">
                    <div class="info-popup-header">
                        <h2>
                            <span class="popup-marker">◆</span>
                            CONVERSION LOG
                        </h2>
                        <button class="info-popup-close" data-close="log-popup">
                            <span>×</span>
                        </button>
                    </div>
                    <div class="info-popup-body" id="conversion-log">
                        <div class="empty-state">
                            <div class="empty-icon">∅</div>
                            <p>NO CONVERSION DATA</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Batch Testing Section -->
            <section class="batch-test-section" id="batch-test-section">
                <div class="section-header">
                    <h3>
                        <span class="section-marker">▸</span>
                        BATCH TESTING
                    </h3>
                </div>
                <div id="batch-test-content" class="batch-test-content">
                    <div class="batch-input-area">
                        <label for="batch-test-input">MULTIPLE INPUT STRINGS (ONE PER LINE)</label>
                        <textarea id="batch-test-input" rows="4"
                            placeholder="abb&#10;aabb&#10;babb&#10;abab"></textarea>
                        <button id="batch-test-btn" class="btn-primary">
                            <span class="btn-marker">▶</span> RUN BATCH TEST
                        </button>
                    </div>
                    <div id="batch-test-results" class="batch-results"></div>
                </div>
            </section>
        </main>

        <!-- Help Modal -->
        <div id="help-modal" class="modal" role="dialog" aria-labelledby="help-title" aria-hidden="true">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="help-title">
                        <span class="popup-marker">◆</span>
                        HELP & DOCUMENTATION
                    </h2>
                    <button class="modal-close" aria-label="Close">
                        <span>×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <section class="help-section">
                        <h3>REGULAR EXPRESSION SYNTAX</h3>
                        <table class="syntax-table">
                            <thead>
                                <tr>
                                    <th>OPERATOR</th>
                                    <th>DESCRIPTION</th>
                                    <th>EXAMPLE</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>a</code></td>
                                    <td>Literal character</td>
                                    <td><code>a</code> matches "a"</td>
                                </tr>
                                <tr>
                                    <td><code>|</code></td>
                                    <td>Alternation (OR)</td>
                                    <td><code>a|b</code> matches "a" or "b"</td>
                                </tr>
                                <tr>
                                    <td><code>*</code></td>
                                    <td>Kleene star (0 or more)</td>
                                    <td><code>a*</code> matches "", "a", "aa", ...</td>
                                </tr>
                                <tr>
                                    <td><code>+</code></td>
                                    <td>Plus (1 or more)</td>
                                    <td><code>a+</code> matches "a", "aa", ...</td>
                                </tr>
                                <tr>
                                    <td><code>?</code></td>
                                    <td>Optional (0 or 1)</td>
                                    <td><code>a?</code> matches "" or "a"</td>
                                </tr>
                                <tr>
                                    <td><code>()</code></td>
                                    <td>Grouping</td>
                                    <td><code>(ab)*</code> matches "", "ab", "abab", ...</td>
                                </tr>
                                <tr>
                                    <td><code>ε</code></td>
                                    <td>Epsilon (empty string)</td>
                                    <td><code>ε</code> matches empty string</td>
                                </tr>
                            </tbody>
                        </table>
                    </section>

                    <section class="help-section">
                        <h3>KEYBOARD SHORTCUTS</h3>
                        <ul class="shortcuts-list">
                            <li><kbd>Ctrl</kbd> + <kbd>Enter</kbd> <span>→ Visualize regex</span></li>
                            <li><kbd>Ctrl</kbd> + <kbd>T</kbd> <span>→ Test string</span></li>
                            <li><kbd>Ctrl</kbd> + <kbd>E</kbd> <span>→ Export SVG</span></li>
                            <li><kbd>+</kbd> / <kbd>-</kbd> <span>→ Zoom in/out</span></li>
                            <li><kbd>R</kbd> <span>→ Reset view</span></li>
                            <li><kbd>?</kbd> <span>→ Show help</span></li>
                        </ul>
                    </section>

                    <section class="help-section">
                        <h3>CONVERSION PROCESS</h3>
                        <ol class="process-steps">
                            <li><strong>REGEX:</strong> Input regular expression</li>
                            <li><strong>ε-NFA:</strong> Convert to epsilon-NFA using Thompson's construction</li>
                            <li><strong>NFA:</strong> Remove epsilon transitions</li>
                            <li><strong>DFA:</strong> Convert to DFA using subset construction</li>
                        </ol>
                    </section>

                    <section class="help-section">
                        <h3>USAGE TIPS</h3>
                        <ul>
                            <li>Click on stage buttons to view different conversion steps</li>
                            <li>Hover over states to see their details</li>
                            <li>Use the batch testing feature to test multiple strings at once</li>
                            <li>Export visualizations for use in presentations or reports</li>
                        </ul>
                    </section>
                </div>
            </div>
        </div>

        <!-- Examples Modal -->
        <div id="examples-modal" class="modal" role="dialog" aria-labelledby="examples-title" aria-hidden="true">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="examples-title">
                        <span class="popup-marker">◆</span>
                        EXAMPLE PATTERNS
                    </h2>
                    <button class="modal-close" aria-label="Close">
                        <span>×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="examples-grid">
                        <div class="example-card" data-regex="(a|b)abb">
                            <h4>String Ending in "abb"</h4>
                            <code>(a|b)abb</code>
                            <p>Matches strings with one a or b followed by "abb"</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                        <div class="example-card" data-regex="ab|ba">
                            <h4>Either "ab" or "ba"</h4>
                            <code>ab|ba</code>
                            <p>Matches exactly "ab" or "ba"</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                        <div class="example-card" data-regex="a(a|b)b">
                            <h4>Middle Choice</h4>
                            <code>a(a|b)b</code>
                            <p>Matches "aab" or "abb"</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                        <div class="example-card" data-regex="(aa|bb)">
                            <h4>Double Letters</h4>
                            <code>(aa|bb)</code>
                            <p>Matches "aa" or "bb"</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                        <div class="example-card" data-regex="a+b+">
                            <h4>At Least One of Each</h4>
                            <code>a+b+</code>
                            <p>One or more a's followed by one or more b's</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                        <div class="example-card" data-regex="(ab|ba)*">
                            <h4>Repeating Pairs</h4>
                            <code>(ab|ba)*</code>
                            <p>Matches any sequence of "ab" or "ba"</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                        <div class="example-card" data-regex="a(b|c)*a">
                            <h4>Ends with Start</h4>
                            <code>a(b|c)*a</code>
                            <p>Starts and ends with "a", middle can be mixed</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                        <div class="example-card" data-regex="(a|b)*abb(a|b)*">
                            <h4>Substring "abb"</h4>
                            <code>(a|b)*abb(a|b)*</code>
                            <p>Contains the sequence "abb" anywhere</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                        <div class="example-card" data-regex="(a|b)(a|b)(a|b)">
                            <h4>Fixed Length 3</h4>
                            <code>(a|b)(a|b)(a|b)</code>
                            <p>Matches any string of exactly length 3</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                        <div class="example-card" data-regex="a*b*c*">
                            <h4>Sorted Order</h4>
                            <code>a*b*c*</code>
                            <p>Any a's, then any b's, then any c's</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                        <div class="example-card" data-regex="(a|b)*aa(a|b)*">
                            <h4>Contains Double 'a'</h4>
                            <code>(a|b)*aa(a|b)*</code>
                            <p>Matches infinite strings containing "aa"</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                        <div class="example-card" data-regex="(a|b)*a(a|b)(a|b)">
                            <h4>3rd from Last is 'a'</h4>
                            <code>(a|b)*a(a|b)(a|b)</code>
                            <p>Classic complex NFA to DFA example</p>
                            <button class="btn-secondary try-example-btn">TRY THIS</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- How It Works Modal -->
        <div id="how-it-works-modal" class="modal" role="dialog" aria-labelledby="how-it-works-title"
            aria-hidden="true">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="how-it-works-title">
                        <span class="popup-marker">◆</span>
                        HOW IT WORKS
                    </h2>
                    <button class="modal-close" aria-label="Close">
                        <span>×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <section class="help-section">
                        <h3>CONVERSION PIPELINE</h3>
                        <p style="margin-bottom: 1.5rem; color: var(--text-secondary);">
                            This application converts your regular expression into a Deterministic Finite Automaton
                            (DFA)
                            through a multi-stage process. Here's how it works behind the scenes:
                        </p>

                        <ol class="process-steps">
                            <li>
                                <strong>Regex Parsing:</strong> Your regular expression is parsed into an Abstract
                                Syntax Tree (AST).
                                The parser recognizes operators like <code>|</code> (union), <code>*</code> (Kleene
                                star),
                                <code>+</code> (one or more), <code>?</code> (optional), and <code>()</code> (grouping).
                            </li>
                            <li>
                                <strong>Thompson's Construction (ε-NFA):</strong> The AST is converted into an Epsilon
                                Non-deterministic
                                Finite Automaton (ε-NFA) using Thompson's algorithm. Each regex operator is translated
                                into a small
                                NFA fragment with epsilon (ε) transitions that allow state changes without consuming
                                input.
                            </li>
                            <li>
                                <strong>Epsilon Removal (NFA):</strong> All epsilon transitions are eliminated by
                                computing epsilon closures.
                                For each state, we find all states reachable via epsilon transitions and create direct
                                transitions on
                                actual symbols. This produces a standard NFA without epsilon transitions.
                            </li>
                            <li>
                                <strong>Subset Construction (DFA):</strong> The NFA is converted to a DFA using the
                                powerset construction
                                algorithm. Each DFA state represents a set of NFA states. We systematically explore all
                                possible symbol
                                transitions from each set of states, creating new DFA states as needed. This ensures
                                determinism—each
                                state has exactly one transition per symbol.
                            </li>
                            <li>
                                <strong>State Naming:</strong> DFA states are assigned readable labels (q0, q1, q2,
                                etc.) instead of
                                showing the internal set representation. Dead states (trap states with no accepting
                                paths) are labeled
                                with Φ (phi symbol).
                            </li>
                            <li>
                                <strong>Visualization:</strong> The final DFA is rendered as an interactive graph using
                                D3.js force simulation.
                                Start states are highlighted in amber, accepting states in green, and transitions are
                                labeled with their
                                input symbols. You can zoom, pan, and drag nodes to explore the automaton.
                            </li>
                        </ol>
                    </section>

                    <section class="help-section">
                        <h3>TESTING MECHANISM</h3>
                        <p style="margin-bottom: 1rem; color: var(--text-secondary);">
                            When you test a string against the DFA:
                        </p>
                        <ol class="process-steps">
                            <li>
                                <strong>Initialization:</strong> The simulator starts at the DFA's start state.
                            </li>
                            <li>
                                <strong>Symbol Processing:</strong> For each character in your input string, the
                                simulator looks up
                                the transition from the current state on that symbol and moves to the next state.
                            </li>
                            <li>
                                <strong>Acceptance Check:</strong> After processing all characters, if the final state
                                is an accepting
                                state, the string is ACCEPTED. Otherwise, it's REJECTED. If no valid transition exists
                                for a symbol,
                                the string is immediately rejected.
                            </li>
                        </ol>
                    </section>

                    <section class="help-section">
                        <h3>TECHNICAL DETAILS</h3>
                        <table class="syntax-table">
                            <thead>
                                <tr>
                                    <th>COMPONENT</th>
                                    <th>TECHNOLOGY</th>
                                    <th>PURPOSE</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Parser</td>
                                    <td>Recursive Descent</td>
                                    <td>Converts regex string to AST</td>
                                </tr>
                                <tr>
                                    <td>ε-NFA Builder</td>
                                    <td>Thompson's Algorithm</td>
                                    <td>AST to epsilon-NFA conversion</td>
                                </tr>
                                <tr>
                                    <td>NFA Converter</td>
                                    <td>Epsilon Closure</td>
                                    <td>Removes epsilon transitions</td>
                                </tr>
                                <tr>
                                    <td>DFA Builder</td>
                                    <td>Subset Construction</td>
                                    <td>NFA to DFA determinization</td>
                                </tr>
                                <tr>
                                    <td>Visualization</td>
                                    <td>D3.js Force Graph</td>
                                    <td>Interactive automaton rendering</td>
                                </tr>
                                <tr>
                                    <td>Simulator</td>
                                    <td>State Machine</td>
                                    <td>String acceptance testing</td>
                                </tr>
                            </tbody>
                        </table>
                    </section>

                    <section class="help-section">
                        <h3>ALGORITHMS USED</h3>
                        <ul style="list-style: none; padding-left: 0;">
                            <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border);">
                                <strong style="color: var(--primary);">Thompson's Construction:</strong>
                                <span style="color: var(--text-secondary);">Compositional NFA building from regex
                                    operators</span>
                            </li>
                            <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border);">
                                <strong style="color: var(--primary);">Epsilon Closure:</strong>
                                <span style="color: var(--text-secondary);">BFS/DFS to find ε-reachable states</span>
                            </li>
                            <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border);">
                                <strong style="color: var(--primary);">Powerset Construction:</strong>
                                <span style="color: var(--text-secondary);">Systematic exploration of NFA state
                                    combinations</span>
                            </li>
                            <li style="padding: 0.5rem 0;">
                                <strong style="color: var(--primary);">Force-Directed Layout:</strong>
                                <span style="color: var(--text-secondary);">Physics simulation for graph
                                    positioning</span>
                            </li>
                        </ul>
                    </section>
                </div>
            </div>
        </div>

        <!-- Feedback Modal -->
        <div id="feedback-modal" class="modal" role="dialog" aria-labelledby="feedback-title" aria-hidden="true">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="feedback-title">
                        <span class="popup-marker">◆</span>
                        REPORT ISSUE / FEEDBACK
                    </h2>
                    <button class="modal-close" aria-label="Close">
                        <span>×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="feedback-form">
                        <div class="form-group">
                            <label for="feedback-name">Your Name (Optional)</label>
                            <input type="text" id="feedback-name" name="from_name" placeholder="Enter your name"
                                autocomplete="name">
                        </div>

                        <div class="form-group">
                            <label for="feedback-email">Your Email (Optional)</label>
                            <input type="email" id="feedback-email" name="user_email"
                                placeholder="your.email@example.com" autocomplete="email">
                            <small
                                style="color: var(--text-muted); font-size: 0.75rem; margin-top: 0.25rem; display: block;">
                                We'll only use this to reply to your feedback
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="feedback-message">Message <span style="color: var(--error);">*</span></label>
                            <textarea id="feedback-message" name="message" rows="6"
                                placeholder="Describe the issue or share your feedback..." required></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn-primary" id="feedback-submit-btn">
                                <span class="btn-marker">▶</span> SEND FEEDBACK
                            </button>
                        </div>

                        <div id="feedback-status" style="margin-top: 1rem; display: none;"></div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <div class="footer-section">
                    <p>© 2026 AUTOMATA VISUALIZER</p>
                </div>
                <div class="footer-section">
                    <p>Developed by <strong>Yashasvee Patel</strong></p>
                    <span class="separator">•</span>
                    <a href="https://github.com/yshasveep24-code/project" target="_blank" rel="noopener">GITHUB</a>
                    <span class="separator">•</span>
                    <a href="https://youtu.be/sM47jb99D8Q" target="_blank" rel="noopener">WATCH DEMO</a>
                    <span class="separator">•</span>
                    <button id="report-issue-btn" class="link-btn">REPORT ISSUE</button>
                </div>
                <div class="footer-section">
                    <span class="version">[v1.0.0]</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="spinner">
            <div class="spinner-inner"></div>
        </div>
        <div class="loading-text">PROCESSING...</div>
    </div>

    <!-- Error Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script type="module" src="src/main.js"></script>
</body>

</html>